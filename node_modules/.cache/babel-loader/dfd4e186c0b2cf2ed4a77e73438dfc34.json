{"remainingRequest":"/Users/davislin/DavisLin/Case/erp/node_modules/babel-loader/lib/index.js!/Users/davislin/DavisLin/Case/erp/node_modules/eslint-loader/index.js??ref--13-0!/Users/davislin/DavisLin/Case/erp/src/common/api.service.js","dependencies":[{"path":"/Users/davislin/DavisLin/Case/erp/src/common/api.service.js","mtime":1580289190000},{"path":"/Users/davislin/DavisLin/Case/erp/node_modules/cache-loader/dist/cjs.js","mtime":1581314282653},{"path":"/Users/davislin/DavisLin/Case/erp/node_modules/babel-loader/lib/index.js","mtime":1587476708600},{"path":"/Users/davislin/DavisLin/Case/erp/node_modules/eslint-loader/index.js","mtime":1586170250463}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgVnVlQXhpb3MgZnJvbSAidnVlLWF4aW9zIjsKaW1wb3J0IEp3dFNlcnZpY2UgZnJvbSAiQC9jb21tb24vand0LnNlcnZpY2UiOwppbXBvcnQgeyBBUElfVVJMIH0gZnJvbSAiQC9jb21tb24vY29uZmlnIjsKLyoqDQogKiBTZXJ2aWNlIHRvIGNhbGwgSFRUUCByZXF1ZXN0IHZpYSBBeGlvcw0KICovCgp2YXIgQXBpU2VydmljZSA9IHsKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgVnVlLnVzZShWdWVBeGlvcywgYXhpb3MpOwogICAgVnVlLmF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBBUElfVVJMOwogIH0sCgogIC8qKg0KICAgKiBTZXQgdGhlIGRlZmF1bHQgSFRUUCByZXF1ZXN0IGhlYWRlcnMNCiAgICovCiAgc2V0SGVhZGVyOiBmdW5jdGlvbiBzZXRIZWFkZXIoKSB7CiAgICBWdWUuYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJUb2tlbiAiLmNvbmNhdChKd3RTZXJ2aWNlLmdldFRva2VuKCkpOwogIH0sCiAgcXVlcnk6IGZ1bmN0aW9uIHF1ZXJ5KHJlc291cmNlLCBwYXJhbXMpIHsKICAgIHJldHVybiBWdWUuYXhpb3MuZ2V0KHJlc291cmNlLCBwYXJhbXMpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIHRocm93IG5ldyBFcnJvcigiW0tUXSBBcGlTZXJ2aWNlICIuY29uY2F0KGVycm9yKSk7CiAgICB9KTsKICB9LAoKICAvKioNCiAgICogU2VuZCB0aGUgR0VUIEhUVFAgcmVxdWVzdA0KICAgKiBAcGFyYW0gcmVzb3VyY2UNCiAgICogQHBhcmFtIHNsdWcNCiAgICogQHJldHVybnMgeyp9DQogICAqLwogIGdldDogZnVuY3Rpb24gZ2V0KHJlc291cmNlKSB7CiAgICB2YXIgc2x1ZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogIiI7CiAgICByZXR1cm4gVnVlLmF4aW9zLmdldCgiIi5jb25jYXQocmVzb3VyY2UsICIvIikuY29uY2F0KHNsdWcpKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpOwogICAgICB0aHJvdyBuZXcgRXJyb3IoIltLVF0gQXBpU2VydmljZSAiLmNvbmNhdChlcnJvcikpOwogICAgfSk7CiAgfSwKCiAgLyoqDQogICAqIFNldCB0aGUgUE9TVCBIVFRQIHJlcXVlc3QNCiAgICogQHBhcmFtIHJlc291cmNlDQogICAqIEBwYXJhbSBwYXJhbXMNCiAgICogQHJldHVybnMgeyp9DQogICAqLwogIHBvc3Q6IGZ1bmN0aW9uIHBvc3QocmVzb3VyY2UsIHBhcmFtcykgewogICAgcmV0dXJuIFZ1ZS5heGlvcy5wb3N0KCIiLmNvbmNhdChyZXNvdXJjZSksIHBhcmFtcyk7CiAgfSwKCiAgLyoqDQogICAqIFNlbmQgdGhlIFVQREFURSBIVFRQIHJlcXVlc3QNCiAgICogQHBhcmFtIHJlc291cmNlDQogICAqIEBwYXJhbSBzbHVnDQogICAqIEBwYXJhbSBwYXJhbXMNCiAgICogQHJldHVybnMge0lEQlJlcXVlc3Q8SURCVmFsaWRLZXk+IHwgUHJvbWlzZTx2b2lkPn0NCiAgICovCiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUocmVzb3VyY2UsIHNsdWcsIHBhcmFtcykgewogICAgcmV0dXJuIFZ1ZS5heGlvcy5wdXQoIiIuY29uY2F0KHJlc291cmNlLCAiLyIpLmNvbmNhdChzbHVnKSwgcGFyYW1zKTsKICB9LAoKICAvKioNCiAgICogU2VuZCB0aGUgUFVUIEhUVFAgcmVxdWVzdA0KICAgKiBAcGFyYW0gcmVzb3VyY2UNCiAgICogQHBhcmFtIHBhcmFtcw0KICAgKiBAcmV0dXJucyB7SURCUmVxdWVzdDxJREJWYWxpZEtleT4gfCBQcm9taXNlPHZvaWQ+fQ0KICAgKi8KICBwdXQ6IGZ1bmN0aW9uIHB1dChyZXNvdXJjZSwgcGFyYW1zKSB7CiAgICByZXR1cm4gVnVlLmF4aW9zLnB1dCgiIi5jb25jYXQocmVzb3VyY2UpLCBwYXJhbXMpOwogIH0sCgogIC8qKg0KICAgKiBTZW5kIHRoZSBERUxFVEUgSFRUUCByZXF1ZXN0DQogICAqIEBwYXJhbSByZXNvdXJjZQ0KICAgKiBAcmV0dXJucyB7Kn0NCiAgICovCiAgZGVsZXRlOiBmdW5jdGlvbiBfZGVsZXRlKHJlc291cmNlKSB7CiAgICByZXR1cm4gVnVlLmF4aW9zLmRlbGV0ZShyZXNvdXJjZSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJbUldWXSBBcGlTZXJ2aWNlICIuY29uY2F0KGVycm9yKSk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IEFwaVNlcnZpY2U7"},{"version":3,"sources":["/Users/davislin/DavisLin/Case/erp/src/common/api.service.js"],"names":["Vue","axios","VueAxios","JwtService","API_URL","ApiService","init","use","defaults","baseURL","setHeader","headers","common","getToken","query","resource","params","get","catch","error","Error","slug","post","update","put","delete"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AAEA;;;;AAGA,IAAMC,UAAU,GAAG;AACjBC,EAAAA,IADiB,kBACV;AACLN,IAAAA,GAAG,CAACO,GAAJ,CAAQL,QAAR,EAAkBD,KAAlB;AACAD,IAAAA,GAAG,CAACC,KAAJ,CAAUO,QAAV,CAAmBC,OAAnB,GAA6BL,OAA7B;AACD,GAJgB;;AAMjB;;;AAGAM,EAAAA,SATiB,uBASL;AACVV,IAAAA,GAAG,CAACC,KAAJ,CAAUO,QAAV,CAAmBG,OAAnB,CAA2BC,MAA3B,CACE,eADF,oBAEaT,UAAU,CAACU,QAAX,EAFb;AAGD,GAbgB;AAejBC,EAAAA,KAfiB,iBAeXC,QAfW,EAeDC,MAfC,EAeO;AACtB,WAAOhB,GAAG,CAACC,KAAJ,CAAUgB,GAAV,CAAcF,QAAd,EAAwBC,MAAxB,EAAgCE,KAAhC,CAAsC,UAAAC,KAAK,EAAI;AACpD;AACA,YAAM,IAAIC,KAAJ,2BAA6BD,KAA7B,EAAN;AACD,KAHM,CAAP;AAID,GApBgB;;AAsBjB;;;;;;AAMAF,EAAAA,GA5BiB,eA4BbF,QA5Ba,EA4BQ;AAAA,QAAXM,IAAW,uEAAJ,EAAI;AACvB,WAAOrB,GAAG,CAACC,KAAJ,CAAUgB,GAAV,WAAiBF,QAAjB,cAA6BM,IAA7B,GAAqCH,KAArC,CAA2C,UAAAC,KAAK,EAAI;AACzD;AACA,YAAM,IAAIC,KAAJ,2BAA6BD,KAA7B,EAAN;AACD,KAHM,CAAP;AAID,GAjCgB;;AAmCjB;;;;;;AAMAG,EAAAA,IAzCiB,gBAyCZP,QAzCY,EAyCFC,MAzCE,EAyCM;AACrB,WAAOhB,GAAG,CAACC,KAAJ,CAAUqB,IAAV,WAAkBP,QAAlB,GAA8BC,MAA9B,CAAP;AACD,GA3CgB;;AA6CjB;;;;;;;AAOAO,EAAAA,MApDiB,kBAoDVR,QApDU,EAoDAM,IApDA,EAoDML,MApDN,EAoDc;AAC7B,WAAOhB,GAAG,CAACC,KAAJ,CAAUuB,GAAV,WAAiBT,QAAjB,cAA6BM,IAA7B,GAAqCL,MAArC,CAAP;AACD,GAtDgB;;AAwDjB;;;;;;AAMAQ,EAAAA,GA9DiB,eA8DbT,QA9Da,EA8DHC,MA9DG,EA8DK;AACpB,WAAOhB,GAAG,CAACC,KAAJ,CAAUuB,GAAV,WAAiBT,QAAjB,GAA6BC,MAA7B,CAAP;AACD,GAhEgB;;AAkEjB;;;;;AAKAS,EAAAA,MAvEiB,mBAuEVV,QAvEU,EAuEA;AACf,WAAOf,GAAG,CAACC,KAAJ,CAAUwB,MAAV,CAAiBV,QAAjB,EAA2BG,KAA3B,CAAiC,UAAAC,KAAK,EAAI;AAC/C;AACA,YAAM,IAAIC,KAAJ,4BAA8BD,KAA9B,EAAN;AACD,KAHM,CAAP;AAID;AA5EgB,CAAnB;AA+EA,eAAed,UAAf","sourcesContent":["import Vue from \"vue\";\r\nimport axios from \"axios\";\r\nimport VueAxios from \"vue-axios\";\r\nimport JwtService from \"@/common/jwt.service\";\r\nimport { API_URL } from \"@/common/config\";\r\n\r\n/**\r\n * Service to call HTTP request via Axios\r\n */\r\nconst ApiService = {\r\n  init() {\r\n    Vue.use(VueAxios, axios);\r\n    Vue.axios.defaults.baseURL = API_URL;\r\n  },\r\n\r\n  /**\r\n   * Set the default HTTP request headers\r\n   */\r\n  setHeader() {\r\n    Vue.axios.defaults.headers.common[\r\n      \"Authorization\"\r\n    ] = `Token ${JwtService.getToken()}`;\r\n  },\r\n\r\n  query(resource, params) {\r\n    return Vue.axios.get(resource, params).catch(error => {\r\n      // console.log(error);\r\n      throw new Error(`[KT] ApiService ${error}`);\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Send the GET HTTP request\r\n   * @param resource\r\n   * @param slug\r\n   * @returns {*}\r\n   */\r\n  get(resource, slug = \"\") {\r\n    return Vue.axios.get(`${resource}/${slug}`).catch(error => {\r\n      // console.log(error);\r\n      throw new Error(`[KT] ApiService ${error}`);\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Set the POST HTTP request\r\n   * @param resource\r\n   * @param params\r\n   * @returns {*}\r\n   */\r\n  post(resource, params) {\r\n    return Vue.axios.post(`${resource}`, params);\r\n  },\r\n\r\n  /**\r\n   * Send the UPDATE HTTP request\r\n   * @param resource\r\n   * @param slug\r\n   * @param params\r\n   * @returns {IDBRequest<IDBValidKey> | Promise<void>}\r\n   */\r\n  update(resource, slug, params) {\r\n    return Vue.axios.put(`${resource}/${slug}`, params);\r\n  },\r\n\r\n  /**\r\n   * Send the PUT HTTP request\r\n   * @param resource\r\n   * @param params\r\n   * @returns {IDBRequest<IDBValidKey> | Promise<void>}\r\n   */\r\n  put(resource, params) {\r\n    return Vue.axios.put(`${resource}`, params);\r\n  },\r\n\r\n  /**\r\n   * Send the DELETE HTTP request\r\n   * @param resource\r\n   * @returns {*}\r\n   */\r\n  delete(resource) {\r\n    return Vue.axios.delete(resource).catch(error => {\r\n      // console.log(error);\r\n      throw new Error(`[RWV] ApiService ${error}`);\r\n    });\r\n  }\r\n};\r\n\r\nexport default ApiService;\r\n"]}]}